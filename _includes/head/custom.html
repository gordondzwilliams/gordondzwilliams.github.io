{% include base_path %}

<!-- start custom head snippets -->

<!-- Support for Academicons -->
<link rel="stylesheet" href="{{ base_path }}/assets/css/academicons.css"/>

<!-- favicon from https://commons.wikimedia.org/wiki/File:OOjs_UI_icon_academic-progressive.svg -->
<link rel="apple-touch-icon" sizes="180x180" href="{{ base_path }}/images/apple-touch-icon-180x180.png"/>
<link rel="icon" type="image/svg+xml" href="{{ base_path }}/images/favicon.svg"/>
<link rel="icon" type="image/png" href="{{ base_path }}/images/favicon-32x32.png" sizes="32x32"/>
<link rel="icon" type="image/png" href="{{ base_path }}/images/favicon-192x192.png" sizes="192x192"/>
<link rel="manifest" href="{{ base_path }}/images/manifest.json"/>
<link rel="icon" href="/images/favicon.ico"/>
<meta name="theme-color" content="#ffffff"/>

<!-- end custom head snippets -->

<!-- Open CV (and any PDF in the nav) in a new tab by intercepting the click -->
<script>
document.addEventListener('click', function (e) {
  var a = e.target.closest('a');
  if (!a || !a.href) return;

  try { var url = new URL(a.href, window.location.origin); } catch (err) { return; }

  // Match PDFs (with or without query strings)
  var isPDF = /\.pdf(\?|$)/i.test(url.pathname) || /\.pdf(\?|$)/i.test(a.getAttribute('href') || '');

  if (isPDF) {
    e.preventDefault();
    e.stopPropagation();
    window.open(a.href, '_blank', 'noopener');
    return false;
  }
}, true); // capture phase so we beat theme handlers
</script>
